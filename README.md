## Настройка проекта

После скачивания выполните в директории проекта команду
```sh start.sh```

## Работа с проектом

В проекте реализованы метод получения цен по часам в заданном интервале
```
POST
http://127.0.0.1:8000/history
```
Необходимо передать следующие данные
| Поле | Тип | Описание | Пример |
|:----:|:----:|:----------:|:----:|
| **currency** | string | Валюта стоимости (возможные значения: usd, eur, rub) | usd |
| **from** | string | Начало периода в формате ```d.m.Y H:i:s``` | 05.09.2021 00:00:00 |
| **to** | string | Окончание периода в формате ```d.m.Y H:i:s``` | 05.09.2021 23:00:00 |

Пример запроса:
```
curl --request POST 'http://127.0.0.1:8000/history' --form 'currency="rub"' --form 'from="05.09.2021 00:00:00"' --form 'to="05.09.2021 23:00:00"'
```
Пример ответа:
- успешный
```
{
    "success": true,
    "message": "",
    "data": [
        {
            "date": "05.09.2021 00:00:00",
            "high": "3660870.48",
            "low": "3607410.58",
            "open": "3630922.62",
            "close": "3644160.55"
        },
        ...,
        {
            "date": "05.09.2021 22:00:00",
            "high": "3668861.03",
            "low": "3658573.89",
            "open": "3660021.31",
            "close": "3666540.84"
        }
    ]
}
```
- ошибочный
```
{
    "success": false,
    "message": "Не указан обязательный параметр."
}
```


Для автоматической загрузки данных за последний час необходимо добавить запись в cron
```
@hourly /usr/bin/php /путь_до_директории_проекта/bin/console app:load-history
```